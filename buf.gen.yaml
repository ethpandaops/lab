version: v2
plugins:
  - remote: buf.build/protocolbuffers/go:v1.34.2
    out: .
    opt: paths=source_relative
  - remote: buf.build/connectrpc/go:v1.16.2 # protoc-gen-connect-go
    out: .
    opt: paths=source_relative
  # Frontend TypeScript generation
  - remote: buf.build/bufbuild/es:v1.10.0 # protoc-gen-es
    out: frontend/src/api/gen
    opt: target=ts
  - remote: buf.build/bufbuild/connect-web:v0.8.6 # protoc-gen-connect-web
    out: frontend/src/api/gen
    opt: target=ts
